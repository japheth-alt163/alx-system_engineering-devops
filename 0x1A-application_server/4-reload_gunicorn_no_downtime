#!/usr/bin/env bash

# Script to reload Gunicorn without downtime

# Step 1: Find Gunicorn processes
gunicorn_processes=$(ps auxf | grep gunicorn | grep -v grep | awk '{print $2}')

# Step 2: Send a HUP signal to each Gunicorn process
if [ -n "$gunicorn_processes" ]; then
    echo "Reloading Gunicorn without downtime..."
    echo "$gunicorn_processes" | xargs kill -HUP
else
    echo "No Gunicorn processes found."
fi
